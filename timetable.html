<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Timetable — Minimal</title>
  <link rel="stylesheet" href="css/main.css">


</head>

<body>

  <!-- Reuse your existing header -->
  <header>
    <div class="header-inner">
      <a class="brand" href="index.html">
        <div class="logo">LOGO</div>
  
      </a>

<nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="#about">About</a>
        <a href="#services">Services</a>
        <a href="#blog">Blog</a>
        <a href="timetable.html">Timetable</a>
      </nav>

      <div class="auth-links">
        <a class="login" href="/login">Sign Up</a>
        <a class="login" href="/login">Login</a>
      </div>
    </div>
  </header>

  <main>
    <section class="tt-wrap">

      <div class="tt-header">
        <h1>Timetable</h1>
        <p>Browse classes by day, filter by location and category, and book in one click. The schedule below is a demo layout you can wire into fibodo data.</p>
      </div>

      <div class="tt-controls">
        <div class="tt-controls-inner">

          <!-- Date scroller (like Third Space: Today + upcoming days) -->
          <div class="tt-dates" id="ttDates"></div>

          <!-- Filters -->
          <div class="tt-filters">
            <div class="tt-filters-left">
              <input class="tt-input" id="ttSearch" type="search" placeholder="Search class or instructor…" />
              <select class="tt-select" id="ttLocation">
                <option value="">All locations</option>
              </select>
              <select class="tt-select" id="ttCategory">
                <option value="">All categories</option>
              </select>
            </div>

            <div class="tt-actions">
              <button class="tt-btn" type="button" id="ttClear">Clear</button>
              <button class="tt-btn primary" type="button" onclick="window.print()">Print</button>
            </div>
          </div>

        </div>
      </div>

      <div class="tt-summary">
        <div class="left">
          <h2 id="ttHeading">Today</h2>
          <div class="tt-count" id="ttCount">0 classes</div>
        </div>
        <div class="tt-count" id="ttHint">Tip: link “Book” to your fibodo product / booking URL.</div>
      </div>

      <div class="tt-list" id="ttList"></div>

    </section>
  

  <script src='https://cdn.jotfor.ms/agent/embedjs/01950473f8497d4fb986378cc3dd8a5ef567/embed.js'>
</script>
  </main>

  <footer>
    <div class="footer-container">

      <div class="footer-grid">
        <div class="footer-col">
          <h4>Contact</h4>
          <a href="mailto:email@example.com">email</a>
          <a href="tel:+000000000">phone</a>
        </div>
        <div class="footer-col">
          <h4>Content</h4>
          <a href="blog.html">Blog</a>
          <a href="mealplan-output.html">Meal Plan</a>
          <a href="workout-output.html">Workouts</a>
          <a href="recipes.html">Recipes</a>
          <a href="#">On Demand</a>
        </div>
        <div class="footer-col">
          <h4>Legal</h4>
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Cookies</a>
        </div>
      </div>

      <div class="footer-bottom">
        <div>
          © 2026 Business Name. All rights reserved. Powered by <a target="_blank" href="https://fibodo.com/">fibodo</a>
        </div>

        
      </div>

    </div>
  </footer>



  <script>
    /**
     * Timetable demo
     * - Date scroller (Today + next 6 days)
     * - Filters: search, location, category
     * - Render list of sessions for selected date
     * Replace `SESSIONS` with API data from fibodo.
     */

    // ---- Helpers
    const pad2 = n => String(n).padStart(2, "0");

    function formatDayLabel(d){
      // e.g. Friday, 27 February
      return d.toLocaleDateString(undefined, { weekday:"long", day:"2-digit", month:"long" });
    }

    function formatShort(d){
      // e.g. Fri
      return d.toLocaleDateString(undefined, { weekday:"short" });
    }

    function formatNum(d){
      // e.g. 27 Feb
      return d.toLocaleDateString(undefined, { day:"2-digit", month:"short" });
    }

    function ymd(d){
      return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
    }

    function minutesBetween(startHHMM, endHHMM){
      const [sh, sm] = startHHMM.split(":").map(Number);
      const [eh, em] = endHHMM.split(":").map(Number);
      return (eh*60+em) - (sh*60+sm);
    }

    function durationLabel(mins){
      const h = Math.floor(mins/60);
      const m = mins % 60;
      if (h && m) return `${h}h ${m}m`;
      if (h) return `${h}h`;
      return `${m}m`;
    }

    // ---- Demo data (swap with your API)
    // date: "YYYY-MM-DD"
    const TODAY = new Date();
    const D0 = ymd(TODAY);
    const D1 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+1));
    const D2 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+2));
    const D3 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+3));
    const D4 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+4));
    const D5 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+5));
    const D6 = ymd(new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+6));

    const SESSIONS = [
      // Today
      { date: D0, location: "Clapham Junction", category: "Strength", title: "Lift", instructor: "Nina Luca", start: "07:00", end: "07:45", bookUrl: "#"},
      { date: D0, location: "Clapham Junction", category: "Yoga", title: "Vinyasa Yoga", instructor: "Natasha O’Brien", start: "12:15", end: "13:15", bookUrl: "#"},
      { date: D0, location: "Soho", category: "Conditioning", title: "Metaburn", instructor: "Mikey Colbourne", start: "18:30", end: "19:15", bookUrl: "#"},
      { date: D0, location: "Soho", category: "Pilates", title: "Dynamic Reformer", instructor: "Cian Hughes", start: "19:10", end: "20:00", bookUrl: "#"},
      // Tomorrow
      { date: D1, location: "Clapham Junction", category: "Pilates", title: "Tower Pilates", instructor: "Janet Steele", start: "06:10", end: "07:00", bookUrl: "#"},
      { date: D1, location: "Soho", category: "Strength", title: "Force", instructor: "Alessandro Tessadro", start: "10:30", end: "11:15", bookUrl: "#"},
      { date: D1, location: "Mayfair", category: "Yoga", title: "Yin Yoga", instructor: "Cathy Henderson", start: "17:00", end: "17:45", bookUrl: "#"},
      // Day 2
      { date: D2, location: "Mayfair", category: "Conditioning", title: "Sweat X", instructor: "Georgia Isaacs", start: "06:45", end: "07:30", bookUrl: "#"},
      { date: D2, location: "Clapham Junction", category: "Strength", title: "The WOD", instructor: "Nina Luca", start: "08:00", end: "08:45", bookUrl: "#"},
      // Day 3
      { date: D3, location: "Soho", category: "Pilates", title: "Mat Pilates", instructor: "Millie Shiers", start: "11:15", end: "12:00", bookUrl: "#"},
      { date: D3, location: "Soho", category: "Yoga", title: "Hatha Yoga", instructor: "Callista Nurse", start: "07:30", end: "08:15", bookUrl: "#"},
      // Day 4
      { date: D4, location: "Mayfair", category: "Recovery", title: "Sound Bath", instructor: "Cathy Henderson", start: "18:00", end: "19:00", bookUrl: "#"},
      // Day 5
      { date: D5, location: "Clapham Junction", category: "Conditioning", title: "HYROX Train", instructor: "Mikey Colbourne", start: "09:45", end: "10:30", bookUrl: "#"},
      // Day 6
      { date: D6, location: "Soho", category: "Strength", title: "The Method", instructor: "Willow Cockram-Hawkins", start: "08:30", end: "09:15", bookUrl: "#"},
    ];

    // ---- State
    let selectedDate = D0;

    // ---- Elements
    const elDates = document.getElementById("ttDates");
    const elList = document.getElementById("ttList");
    const elHeading = document.getElementById("ttHeading");
    const elCount = document.getElementById("ttCount");

    const elSearch = document.getElementById("ttSearch");
    const elLocation = document.getElementById("ttLocation");
    const elCategory = document.getElementById("ttCategory");
    const elClear = document.getElementById("ttClear");

    // ---- Build date pills
    function buildDatePills(){
      elDates.innerHTML = "";
      for (let i=0; i<7; i++){
        const d = new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate()+i);
        const key = ymd(d);

        const pill = document.createElement("button");
        pill.type = "button";
        pill.className = "tt-date" + (key === selectedDate ? " active" : "");
        pill.setAttribute("data-date", key);

        const day = document.createElement("div");
        day.className = "tt-day";
        day.textContent = (i === 0) ? "Today" : d.toLocaleDateString(undefined, { weekday:"long" });

        const num = document.createElement("div");
        num.className = "tt-num";
        num.textContent = formatNum(d);

        const short = document.createElement("div");
        short.className = "tt-short";
        short.textContent = formatShort(d);

        pill.appendChild(day);
        pill.appendChild(num);
        pill.appendChild(short);

        pill.addEventListener("click", () => {
          selectedDate = key;
          buildDatePills();
          render();
        });

        elDates.appendChild(pill);
      }
    }

    // ---- Populate filter dropdowns
    function populateFilters(){
      const locations = Array.from(new Set(SESSIONS.map(s => s.location))).sort();
      const categories = Array.from(new Set(SESSIONS.map(s => s.category))).sort();

      // locations
      locations.forEach(loc => {
        const opt = document.createElement("option");
        opt.value = loc;
        opt.textContent = loc;
        elLocation.appendChild(opt);
      });

      // categories
      categories.forEach(cat => {
        const opt = document.createElement("option");
        opt.value = cat;
        opt.textContent = cat;
        elCategory.appendChild(opt);
      });
    }

    // ---- Render list
    function render(){
      // Heading
      const d = new Date(selectedDate + "T00:00:00");
      elHeading.textContent = (selectedDate === D0) ? "Today" : formatDayLabel(d);

      // Filter
      const q = (elSearch.value || "").trim().toLowerCase();
      const loc = elLocation.value;
      const cat = elCategory.value;

      let items = SESSIONS
        .filter(s => s.date === selectedDate)
        .filter(s => !loc || s.location === loc)
        .filter(s => !cat || s.category === cat)
        .filter(s => {
          if (!q) return true;
          return (
            s.title.toLowerCase().includes(q) ||
            s.instructor.toLowerCase().includes(q) ||
            s.location.toLowerCase().includes(q) ||
            s.category.toLowerCase().includes(q)
          );
        })
        .sort((a,b) => (a.start > b.start ? 1 : -1));

      elCount.textContent = `${items.length} ${items.length === 1 ? "class" : "classes"}`;

      elList.innerHTML = "";

      if (!items.length){
        const empty = document.createElement("div");
        empty.className = "tt-empty";
        empty.textContent = "No classes match your filters for this day.";
        elList.appendChild(empty);
        return;
      }

      items.forEach(s => {
        const mins = minutesBetween(s.start, s.end);

        const item = document.createElement("article");
        item.className = "tt-item";

        const time = document.createElement("div");
        time.className = "tt-time";
        time.innerHTML = `
          <strong>${s.start}–${s.end}</strong>
          <span>${durationLabel(mins)}</span>
        `;

        const body = document.createElement("div");
        body.className = "tt-body";
        body.innerHTML = `
          <div class="tt-badge">${s.location} • ${s.category}</div>
          <h3 class="tt-title">${s.title}</h3>
          <div class="tt-meta">
            <span><b>${s.instructor}</b></span>
          </div>
        `;

        const cta = document.createElement("div");
        cta.className = "tt-cta";
        cta.innerHTML = `
          <a class="tt-link" href="${s.bookUrl}">
            Book
          </a>
        `;

        item.appendChild(time);
        item.appendChild(body);
        item.appendChild(cta);
        elList.appendChild(item);
      });
    }

    // ---- Events
    elSearch.addEventListener("input", render);
    elLocation.addEventListener("change", render);
    elCategory.addEventListener("change", render);

    elClear.addEventListener("click", () => {
      elSearch.value = "";
      elLocation.value = "";
      elCategory.value = "";
      render();
    });

    // ---- Init
    buildDatePills();
    populateFilters();
    render();
  </script>
</body>
</html>